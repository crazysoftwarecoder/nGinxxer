{
  "core": {
    "directives":[
      {
        "name":"user",
        "value":"root root"
      },
      {
        "name":"worker_processes",
        "value":"5"
      },
      {
        "name":"error_log",
        "value":"logs/error.log"
      },
      {
        "name":"pid",
        "value":"logs/nginx.pid"
      },
      {
        "name":"worker_rlimit_nofile",
        "value":"8192"
      }
    ]
  },
  "events": {
    "directives":[
      {
        "name":"worker_connections",
        "value":"4096"
      },
      {
        "name":"use",
        "value":"epoll"
      }
    ]
  },
  "http": {
    "directives":[
      {
        "name":"include",
        "value":"conf/mime.types"
      },
      {
        "name":"include",
        "value":"/etc/nginx/proxy.conf"
      },
      {
        "name":"include",
        "value":"/etc/nginx/fastcgi.conf"
      },
      {
        "name":"index",
        "value":"index.html index.htm index.php"
      },
      {
        "name":"default_type",
        "value":"application/octet-stream",
      },
      {
        "name":"log_format",
        "values":["main", "$remote_addr - $remote_user [$time_local]  $status \"$request\" $body_bytes_sent \"$http_referer\" \"$http_user_agent\" \"$http_x_forwarded_for\""]
      },
      {
        "name":"access_log",
        "values":["logs/access.log","main"]
      },
      {
        "name":"sendfile",
        "value":"on"
      },
      {
        "name":"tcp_nopush",
        "value":"on"
      },
      {
        "name":"server_names_hash_bucket_size",
        "value":"128"
      }
    ],
    "servers":[
      {
        "directives":[
          {
            "name":"listen",
            "value":"80"
          },
          {
            "name":"server_name",
            "value":"domain1.com www.domain1.com"
          },
          {
            "name":"access_log",
            "values":["logs/domain1.access.log","main"]
          },
          {
            "name":"root",
            "value":"html"
          }
        ],
        "locations":[
          {
            "path":"~ \\.php$",
            "directives":[
              {
                "name":"fastcgi_pass",
                "value":"127.0.0.1:1025"
              }
            ]
          }
        ]
      },
      {
        "directives":[
          {
            "name":"listen",
            "value":"80"
          },
          {
            "name":"server_name",
            "values":["domain2.com","www.domain2.com"]
          },
          {
            "name":"access_log",
            "values":["logs/domain2.access.log","main"]
          }
        ],
        "locations":[
          {
            "path":"~ ^/(images|javascript|js|css|flash|media|static)/",
            "directives":[
              {
                "name": "root",
                "value": "/var/www/virtual/big.server.com/htdocs"
              },
              {
                "name": "expires",
                "value": "30d"
              }
            ]
          },
          {
            "path":"/",
            "directives":[
              {
                "name":"proxy_pass",
                "value":"http://127.0.0.1:8080"
              }
            ]
          }
        ]
      },
      {
        "directives":[
          {
            "name":"listen",
            "value":"80"
          },
          {
            "name":"server_name",
            "value":"big.server.com"
          },
          {
            "name":"access_log",
            "values":["logs/big.server.access.log","main"]
          }
        ],
        "locations":[
          {
            "path":"/",
            "directives":[
              {
                "name":"proxy_pass",
                "value":"http://big_server_com"
              }
            ]
          }
        ]
      }
    ]
  }
}
